<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Curso - Fusalmo Cursos</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
<div class="header">
  <div class="row">
    <div class="brand">
      <span class="dot"></span> <span>Fusalmo Cursos</span>
    </div>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="contacts.html">Contactos</a>
      <a href="javascript:void(0)" id="userpill" class="badge" style="display: none;"></a>
      <a href="javascript:void(0)" class="btn danger small" onclick="logout()" style="display: none; margin-left: 10px;">Cerrar Sesión</a>
    </nav>
  </div>
</div>

<div class="container">
  <div class="grid cols-2">
    <div class="card" style="padding:0; overflow:hidden">
      <img id="cImg" src="" alt="Imagen del curso" style="width:100%; height:300px; object-fit:cover">
    </div>
    <div class="card" style="padding:24px">
      <h2 id="cTitle">Curso</h2>
      <div id="cMeta" class="small"></div>
      <div style="height:12px"></div>
      <div id="cInfo" style="line-height: 1.6;"></div>
      <div style="height:16px"></div>
      <div class="admin-only hidden">
        <button class="btn" id="editCourse">Editar Curso</button>
      </div>
      <div style="height:16px"></div>
      <a id="enrollBtn" class="btn primary" href="#">Inscribirse en este Curso</a>
    </div>
  </div>
</div>

<script src="assets/app.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Verificar autenticación
    const currentUser = JSON.parse(localStorage.getItem('user') || 'null');
    if (!currentUser) {
      window.location.href = 'login.html';
      return;
    }

    // Mostrar información del usuario
    const userPill = document.getElementById('userpill');
    if (userPill && currentUser) {
      userPill.textContent = currentUser.email + (currentUser.isFusalmo ? " • Admin" : "");
      userPill.style.display = 'inline-block';
      userPill.nextElementSibling.style.display = 'inline-block';
    }


  });

  function logout() {
    localStorage.removeItem('user');
    window.location.href = 'login.html';
  }
</script>
</body>
</html>